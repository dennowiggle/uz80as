0001   0000             ; ===========================================================================
0002   0000             ; uz80as, an assembler for the Zilog Z80 and several other microprocessors.
0003   0000             ;
0004   0000             ; Western Design W65C02S.
0005   0000             ; ===========================================================================
0006   0000             
0007   0000             
0008   0000             #define equ .equ
0009   0000             #define end .end
0010   0000             
0011   0000             zp:	    equ $77
0012   0000             a16:        equ $1234
0013   0000             n:          equ 56h
0014   0000             
0015   0000             ; 0x
0016   0000             
0017   0000 00          	BRK
0018   0001 01 77       	ORA (zp,X)
0019   0003             	; 2
0020   0003             	; 3
0021   0003 04 77       	TSB zp ; *
0022   0005 05 77       	ORA zp
0023   0007 06 77       	ASL zp
0024   0009 07 77       	RMB0 zp ; *
0025   000B 08          	PHP
0026   000C 09 56       	ORA #n
0027   000E 0A          	ASL A
0028   000F             	; B
0029   000F 0C 34 12    	TSB a16 ; *
0030   0012 0D 34 12    	ORA a16
0031   0015 0E 34 12    	ASL a16
0032   0018 0F 77 FD    	BBR0 zp,* ; *
0033   001B             
0034   001B             ; 1x
0035   001B             
0036   001B 10 FE       	BPL *
0037   001D 11 77       	ORA (zp),Y
0038   001F 12 77       	ORA (zp) ; *
0039   0021             	; 3
0040   0021 14 77       	TRB zp ; *
0041   0023 15 77       	ORA zp,X
0042   0025 16 77       	ASL zp,X
0043   0027 17 77       	RMB1 zp ; *
0044   0029 18          	CLC
0045   002A 19 34 12    	ORA a16,Y
0046   002D 1A          	INC A ; *
0047   002E             	; B
0048   002E 1C 34 12    	TRB a16 ; *
0049   0031 1D 34 12    	ORA a16,X
0050   0034 1E 34 12    	ASL a16,X
0051   0037 1F 77 FD    	BBR1 zp,* ; *
0052   003A             	
0053   003A             ; 2x
0054   003A             
0055   003A 20 34 12    	JSR a16
0056   003D 21 77       	AND (zp,X)
0057   003F             	; 2
0058   003F             	; 3
0059   003F 24 77       	BIT zp
0060   0041 25 77       	AND zp
0061   0043 26 77       	ROL zp
0062   0045 27 77       	RMB2 zp ; *
0063   0047 28          	PLP
0064   0048 29 56       	AND #n
0065   004A 2A          	ROL A
0066   004B             	; B
0067   004B 2C 34 12    	BIT a16
0068   004E 2D 34 12    	AND a16
0069   0051 2E 34 12    	ROL a16
0070   0054 2F 77 FD    	BBR2 zp,* ; *
0071   0057             
0072   0057             ; 3x
0073   0057             
0074   0057 30 FE       	BMI *
0075   0059 31 77       	AND (zp),Y
0076   005B 32 77       	AND (zp) ; *
0077   005D             	; 3
0078   005D 34 77       	BIT zp,X ; *
0079   005F 35 77       	AND zp,X
0080   0061 36 77       	ROL zp,X
0081   0063 37 77       	RMB3 zp ; *
0082   0065 38          	SEC
0083   0066 39 34 12    	AND a16,Y
0084   0069 3A          	DEC A ; *
0085   006A             	; B
0086   006A 3C 34 12    	BIT a16,X ; *
0087   006D 3D 34 12    	AND a16,X
0088   0070 3E 34 12    	ROL a16,X
0089   0073 3F 77 FD    	BBR3 zp,* ; *
0090   0076             
0091   0076             ; 4x
0092   0076             
0093   0076 40          	RTI
0094   0077 41 77       	EOR (zp,X)
0095   0079             	; 2
0096   0079             	; 3
0097   0079             	; 4
0098   0079 45 77       	EOR zp
0099   007B 46 77       	LSR zp
0100   007D 47 77       	RMB4 zp ; *
0101   007F 48          	PHA
0102   0080 49 56       	EOR #n
0103   0082 4A          	LSR A
0104   0083             	; B
0105   0083 4C 34 12    	JMP a16
0106   0086 4D 34 12    	EOR a16
0107   0089 4E 34 12    	LSR a16
0108   008C 4F 77 FD    	BBR4 zp,* ; *
0109   008F             
0110   008F             ; 5x
0111   008F             
0112   008F 50 FE       	BVC *
0113   0091 51 77       	EOR (zp),Y
0114   0093 52 77       	EOR (zp) ; *
0115   0095             	; 3
0116   0095             	; 4
0117   0095 55 77       	EOR zp,X
0118   0097 56 77       	LSR zp,X
0119   0099 57 77       	RMB5 zp ; *
0120   009B 58          	CLI
0121   009C 59 34 12    	EOR a16,Y
0122   009F 5A          	PHY ; *
0123   00A0             	; B
0124   00A0             	; C
0125   00A0 5D 34 12    	EOR a16,X
0126   00A3 5E 34 12    	LSR a16,X
0127   00A6 5F 77 FD    	BBR5 zp,* ; *
0128   00A9             
0129   00A9             ; 6x
0130   00A9             
0131   00A9 60          	RTS
0132   00AA 61 77       	ADC (zp,X)
0133   00AC             	; 2
0134   00AC             	; 3
0135   00AC 64 77       	STZ zp ; *
0136   00AE 65 77       	ADC zp
0137   00B0 66 77       	ROR zp
0138   00B2 67 77       	RMB6 zp ; *
0139   00B4 68          	PLA
0140   00B5 69 56       	ADC #n
0141   00B7 6A          	ROR A
0142   00B8             	; B
0143   00B8 6C 34 12    	JMP (a16)
0144   00BB 6D 34 12    	ADC a16
0145   00BE 6E 34 12    	ROR a16
0146   00C1 6F 77 FD    	BBR6 zp,* ; *
0147   00C4             
0148   00C4             ; 7x
0149   00C4             
0150   00C4 70 FE       	BVS *
0151   00C6 71 77       	ADC (zp),Y
0152   00C8 72 77       	ADC (zp) ; *
0153   00CA             	; 3
0154   00CA 74 77       	STZ zp,X ; *
0155   00CC 75 77       	ADC zp,X
0156   00CE 76 77       	ROR zp,X
0157   00D0 77 77       	RMB7 zp ; *
0158   00D2 78          	SEI
0159   00D3 79 34 12    	ADC a16,Y
0160   00D6 7A          	PLY ; *
0161   00D7             	; B
0162   00D7 7C 34 12    	JMP (a16,X) ; *
0163   00DA 7D 34 12    	ADC a16,X
0164   00DD 7E 34 12    	ROR a16,X
0165   00E0 7F 77 FD    	BBR7 zp,* ; *
0166   00E3             
0167   00E3             ; 8x
0168   00E3             
0169   00E3 80 FE       	BRA * ; *
0170   00E5 81 77       	STA (zp,X)
0171   00E7             	; 2
0172   00E7             	; 3
0173   00E7 84 77       	STY zp
0174   00E9 85 77       	STA zp
0175   00EB 86 77       	STX zp
0176   00ED 87 77       	SMB0 zp ; *
0177   00EF 88          	DEY
0178   00F0 89 56       	BIT #n ; *
0179   00F2 8A          	TXA
0180   00F3             	; B
0181   00F3 8C 34 12    	STY a16
0182   00F6 8D 34 12    	STA a16
0183   00F9 8E 34 12    	STX a16
0184   00FC 8F 77 FD    	BBS0 zp,* ; *
0185   00FF             
0186   00FF             ; 9x
0187   00FF             
0188   00FF 90 FE       	BCC *
0189   0101 91 77       	STA (zp),Y
0190   0103 92 77       	STA (zp) ; *
0191   0105             	; 3
0192   0105 94 77       	STY zp,X
0193   0107 95 77       	STA zp,X
0194   0109 96 77       	STX zp,Y
0195   010B 97 77       	SMB1 zp ; *
0196   010D 98          	TYA
0197   010E 99 34 12    	STA a16,Y
0198   0111 9A          	TXS
0199   0112             	; B
0200   0112 9C 34 12    	STZ a16 ; *
0201   0115 9D 34 12    	STA a16,X
0202   0118 9E 34 12    	STZ a16,X ; *
0203   011B 9F 77 FD    	BBS1 zp,* ; *
0204   011E             
0205   011E             ; Ax
0206   011E             
0207   011E A0 56       	LDY #n
0208   0120 A1 77       	LDA (zp,X)
0209   0122 A2 56       	LDX #n
0210   0124             	; 3
0211   0124 A4 77       	LDY zp
0212   0126 A5 77       	LDA zp
0213   0128 A6 77       	LDX zp
0214   012A A7 77       	SMB2 zp ; *
0215   012C A8          	TAY
0216   012D A9 56       	LDA #n
0217   012F AA          	TAX
0218   0130             	; B
0219   0130 AC 34 12    	LDY a16
0220   0133 AD 34 12    	LDA a16
0221   0136 AE 34 12    	LDX a16
0222   0139 AF 77 FD    	BBS2 zp,* ; *
0223   013C             
0224   013C             ; Bx
0225   013C             
0226   013C B0 FE       	BCS *
0227   013E B1 77       	LDA (zp),Y
0228   0140 B2 77       	LDA (zp) ; *
0229   0142             	; 3
0230   0142 B4 77       	LDY zp,X
0231   0144 B5 77       	LDA zp,X
0232   0146 B6 77       	LDX zp,Y
0233   0148 B7 77       	SMB3 zp ; *
0234   014A B8          	CLV
0235   014B B9 34 12    	LDA a16,Y
0236   014E BA          	TSX
0237   014F             	; B
0238   014F BC 34 12    	LDY a16,X
0239   0152 BD 34 12    	LDA a16,X
0240   0155 BE 34 12    	LDX a16,Y
0241   0158 BF 77 FD    	BBS3 zp,* ; *
0242   015B             
0243   015B             ; Cx
0244   015B             
0245   015B C0 56       	CPY #n
0246   015D C1 77       	CMP (zp,X)
0247   015F             	; 2
0248   015F             	; 3
0249   015F C4 77       	CPY zp
0250   0161 C5 77       	CMP zp
0251   0163 C6 77       	DEC zp
0252   0165 C7 77       	SMB4 zp ; *
0253   0167 C8          	INY
0254   0168 C9 56       	CMP #n
0255   016A CA          	DEX
0256   016B CB          	WAI ; *
0257   016C CC 34 12    	CPY a16
0258   016F CD 34 12    	CMP a16
0259   0172 CE 34 12    	DEC a16
0260   0175 CF 77 FD    	BBS4 zp,* ; *
0261   0178             
0262   0178             ; Dx
0263   0178             
0264   0178 D0 FE       	BNE *
0265   017A D1 77       	CMP (zp),Y
0266   017C D2 77       	CMP (zp) ; *
0267   017E             	; 3
0268   017E             	; 4
0269   017E D5 77       	CMP zp,X
0270   0180 D6 77       	DEC zp,X
0271   0182 D7 77       	SMB5 zp ; *
0272   0184 D8          	CLD
0273   0185 D9 34 12    	CMP a16,Y
0274   0188 DA          	PHX ; *
0275   0189 DB          	STP ; * 
0276   018A             	; C
0277   018A DD 34 12    	CMP a16,X
0278   018D DE 34 12    	DEC a16,X
0279   0190 DF 77 FD    	BBS5 zp,* ; *
0280   0193             
0281   0193             ; Ex
0282   0193             
0283   0193 E0 56       	CPX #n
0284   0195 E1 77       	SBC (zp,X)
0285   0197             	; 2
0286   0197             	; 3
0287   0197 E4 77       	CPX zp
0288   0199 E5 77       	SBC zp
0289   019B E6 77       	INC zp
0290   019D E7 77       	SMB6 zp ; *
0291   019F E8          	INX
0292   01A0 E9 56       	SBC #n
0293   01A2 EA          	NOP
0294   01A3             	; B
0295   01A3 EC 34 12    	CPX a16
0296   01A6 ED 34 12    	SBC a16
0297   01A9 EE 34 12    	INC a16
0298   01AC EF 77 FD    	BBS6 zp,* ; *
0299   01AF             
0300   01AF             ; Fx
0301   01AF             
0302   01AF F0 FE       	BEQ *
0303   01B1 F1 77       	SBC (zp),Y
0304   01B3 F2 77       	SBC (zp) ; *
0305   01B5             	; 3
0306   01B5             	; 4
0307   01B5 F5 77       	SBC zp,X
0308   01B7 F6 77       	INC zp,X
0309   01B9 F7 77       	SMB7 zp ; *
0310   01BB F8          	SED
0311   01BC F9 34 12    	SBC a16,Y
0312   01BF FA          	PLX ; *
0313   01C0             	; B
0314   01C0             	; C
0315   01C0 FD 34 12    	SBC a16,X
0316   01C3 FE 34 12    	INC a16,X
0317   01C6 FF 77 FD    	BBS7 zp,* ; *
0318   01C9             
0319   01C9             	end
