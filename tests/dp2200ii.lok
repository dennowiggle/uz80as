0001   0000             ; ===========================================================================
0002   0000             ; uz80as, an assembler for the Zilog Z80 and several other microprocessors.
0003   0000             ;
0004   0000             ; Datapoint 2200 version I.
0005   0000             ; ===========================================================================
0006   0000             
0007   0000             
0008   0000             #define equ .equ
0009   0000             #define end .end
0010   0000             
0011   0000             n:          equ 20h
0012   0000             nn:         equ 0584h
0013   0000             dddd:       equ 07h
0014   0000             a16:        equ $1234
0015   0000             hi8:        equ $ff11
0016   0000             port:       equ 3
0017   0000             imm8:       equ 56h    ;immediate data (8 bits)
0018   0000             offset:     equ 7
0019   0000             offset_neg: equ -7
0020   0000             
0021   0000             ; 0x
0022   0000             
0023   0000 FF          	HALT
0024   0001             	; HALT
0025   0001 02          	SLC
0026   0002 03          	RFC
0027   0003 04 20       	AD n
0028   0005             	; 5
0029   0005 06 20       	LA n
0030   0007 07          	RETURN
0031   0008             	; 8
0032   0008             	; 9
0033   0008 0A          	SRC
0034   0009 0B          	RFZ
0035   000A 0C 20       	AC n
0036   000C             	; D
0037   000C 0E 20       	LB n
0038   000E             	; F
0039   000E             
0040   000E             ; 1x
0041   000E             
0042   000E 10          	BETA ; *
0043   000F             	; 1
0044   000F             	; 2
0045   000F 13          	RFS
0046   0010 14 20       	SU n
0047   0012             	; 5
0048   0012 16 20       	LC n
0049   0014             	; 7
0050   0014 18          	ALPHA ; *
0051   0015             	; 9
0052   0015             	; A
0053   0015 1B          	RFP
0054   0016 1C 20       	SB n
0055   0018             	; D
0056   0018 1E 20       	LD n
0057   001A             	; F
0058   001A             
0059   001A             ; 2x
0060   001A             
0061   001A 20          	DI ; *
0062   001B             	; 1
0063   001B             	; 2
0064   001B 23          	RTC
0065   001C 24 20       	ND n
0066   001E             	; 5
0067   001E 26 20       	LE n
0068   0020             	; 7
0069   0020 28          	EI ; *
0070   0021             	; 9
0071   0021             	; A
0072   0021 2B          	RTZ
0073   0022 2C 20       	XR n
0074   0024             	; D
0075   0024 2E 20       	LH n
0076   0026             	; F
0077   0026             
0078   0026             ; 3x
0079   0026             
0080   0026 30          	POP ; *
0081   0027             	; 1
0082   0027             	; 2
0083   0027 33          	RTS
0084   0028 34 20       	OR n
0085   002A             	; 5
0086   002A 36 20       	LL n
0087   002C             	; 7
0088   002C 38          	PUSH ; *
0089   002D             	; 9
0090   002D             	; A
0091   002D 3B          	RTP
0092   002E 3C 20       	CP n
0093   0030             	; D
0094   0030             	; E
0095   0030             	; F
0096   0030             
0097   0030             
0098   0030             ; 4x
0099   0030 40 34 12    	JFC a16
0100   0033 41          	INPUT
0101   0034 42 34 12    	CFC a16
0102   0037             	; 3
0103   0037 44 34 12    	JMP a16
0104   003A             	; 5
0105   003A 46 34 12    	CALL a16
0106   003D             	; 7
0107   003D 48 34 12    	JFZ a16
0108   0040             	; 9
0109   0040 4A 34 12    	CFZ a16
0110   0043             	; B
0111   0043             	; C
0112   0043             	; D
0113   0043             	; E
0114   0043             	; F
0115   0043             
0116   0043             ; 5x
0117   0043             
0118   0043 50 34 12    	JFS a16
0119   0046 51          	EX ADR
0120   0047 52 34 12    	CFS a16
0121   004A 53          	EX STATUS
0122   004B             	; 4
0123   004B 55          	EX DATA
0124   004C             	; 6
0125   004C 57          	EX WRITE
0126   004D 58 34 12    	JFP a16
0127   0050 59          	EX COM1
0128   0051 5A 34 12    	CFP a16
0129   0054 5B          	EX COM2
0130   0055             	; C
0131   0055 5D          	EX COM3
0132   0056             	; E
0133   0056 5F          	EX COM4
0134   0057             
0135   0057             ; 6x
0136   0057             
0137   0057 60 34 12    	JTC a16
0138   005A             	; 1
0139   005A 62 34 12    	CTC a16
0140   005D             	; 3
0141   005D             	; 4
0142   005D             	; 5
0143   005D             	; 6
0144   005D             	; 7
0145   005D 68 34 12    	JTZ a16
0146   0060 69          	EX BEEP
0147   0061 6A 34 12    	CTZ a16
0148   0064 6B          	EX CLICK
0149   0065             	; C
0150   0065 6D          	EX DECK1
0151   0066             	; E
0152   0066 6F          	EX DECK2
0153   0067             	
0154   0067             ; 7x
0155   0067 70 34 12    	JTS a16
0156   006A 71          	EX RBK
0157   006B 72 34 12    	CTS a16
0158   006E 73          	EX WBK
0159   006F             	; 4
0160   006F             	; 5
0161   006F             	; 6
0162   006F 77          	EX BSP
0163   0070 78 34 12    	JTP a16
0164   0073 79          	EX SF
0165   0074 7A 34 12    	CTP a16
0166   0077 7B          	EX SB
0167   0078             	; C
0168   0078 7D          	EX REWND
0169   0079             	; E
0170   0079 7F          	EX TSTOP
0171   007A             
0172   007A             ; 8x
0173   007A             
0174   007A 80          	ADA
0175   007B 81          	ADB
0176   007C 82          	ADC
0177   007D 83          	ADD
0178   007E 84          	ADE
0179   007F 85          	ADH
0180   0080 86          	ADL
0181   0081 87          	ADM
0182   0082 88          	ACA
0183   0083 89          	ACB
0184   0084 8A          	ACC
0185   0085 8B          	ACD
0186   0086 8C          	ACE
0187   0087 8D          	ACH
0188   0088 8E          	ACL
0189   0089 8F          	ACM
0190   008A             
0191   008A             ; 9x
0192   008A             
0193   008A 90          	SUA
0194   008B 91          	SUB
0195   008C 92          	SUC
0196   008D 93          	SUD
0197   008E 94          	SUE
0198   008F 95          	SUH
0199   0090 96          	SUL
0200   0091 97          	SUM
0201   0092 98          	SBA
0202   0093 99          	SBB
0203   0094 9A          	SBC
0204   0095 9B          	SBD
0205   0096 9C          	SBE
0206   0097 9D          	SBH
0207   0098 9E          	SBL
0208   0099 9F          	SBM
0209   009A             
0210   009A             ; Ax
0211   009A             
0212   009A A0          	NDA
0213   009B A1          	NDB
0214   009C A2          	NDC
0215   009D A3          	NDD
0216   009E A4          	NDE
0217   009F A5          	NDH
0218   00A0 A6          	NDL
0219   00A1 A7          	NDM
0220   00A2 A8          	XRA
0221   00A3 A9          	XRB
0222   00A4 AA          	XRC
0223   00A5 AB          	XRD
0224   00A6 AC          	XRE
0225   00A7 AD          	XRH
0226   00A8 AE          	XRL
0227   00A9 AF          	XRM
0228   00AA             
0229   00AA             ; Bx
0230   00AA             
0231   00AA B0          	ORA
0232   00AB B1          	ORB
0233   00AC B2          	ORC
0234   00AD B3          	ORD
0235   00AE B4          	ORE
0236   00AF B5          	ORH
0237   00B0 B6          	ORL
0238   00B1 B7          	ORM
0239   00B2 B8          	CPA
0240   00B3 B9          	CPB
0241   00B4 BA          	CPC
0242   00B5 BB          	CPD
0243   00B6 BC          	CPE
0244   00B7 BD          	CPH
0245   00B8 BE          	CPL
0246   00B9 BF          	CPM
0247   00BA             
0248   00BA             ; Cx
0249   00BA             
0250   00BA C0          	NOP
0251   00BB C1          	LAB
0252   00BC C2          	LAC
0253   00BD C3          	LAD
0254   00BE C4          	LAE
0255   00BF C5          	LAH
0256   00C0 C6          	LAL
0257   00C1 C7          	LAM
0258   00C2 C8          	LBA
0259   00C3             	; 9
0260   00C3 CA          	LBC
0261   00C4 CB          	LBD
0262   00C5 CC          	LBE
0263   00C6 CD          	LBH
0264   00C7 CE          	LBL
0265   00C8 CF          	LBM
0266   00C9             
0267   00C9             ; Dx
0268   00C9             
0269   00C9 D0          	LCA
0270   00CA D1          	LCB
0271   00CB             	; 2
0272   00CB D3          	LCD
0273   00CC D4          	LCE
0274   00CD D5          	LCH
0275   00CE D6          	LCL
0276   00CF D7          	LCM
0277   00D0 D8          	LDA
0278   00D1 D9          	LDB
0279   00D2 DA          	LDC
0280   00D3             	; B
0281   00D3 DC          	LDE
0282   00D4 DD          	LDH
0283   00D5 DE          	LDL
0284   00D6 DF          	LDM
0285   00D7             
0286   00D7             ; Ex
0287   00D7             
0288   00D7 E0          	LEA
0289   00D8 E1          	LEB
0290   00D9 E2          	LEC
0291   00DA E3          	LED
0292   00DB             	; 4
0293   00DB E5          	LEH
0294   00DC E6          	LEL
0295   00DD E7          	LEM
0296   00DE E8          	LHA
0297   00DF E9          	LHB
0298   00E0 EA          	LHC
0299   00E1 EB          	LHD
0300   00E2 EC          	LHE
0301   00E3             	; D
0302   00E3 EE          	LHL
0303   00E4 EF          	LHM
0304   00E5             
0305   00E5             ; Fx
0306   00E5             
0307   00E5 F0          	LLA
0308   00E6 F1          	LLB
0309   00E7 F2          	LLC
0310   00E8 F3          	LLD
0311   00E9 F4          	LLE
0312   00EA F5          	LLH
0313   00EB             	; 6
0314   00EB F7          	LLM
0315   00EC F8          	LMA
0316   00ED F9          	LMB
0317   00EE FA          	LMC
0318   00EF FB          	LMD
0319   00F0 FC          	LME
0320   00F1 FD          	LMH
0321   00F2 FE          	LML
0322   00F3             	; HALT
0323   00F3             
0324   00F3             	end
