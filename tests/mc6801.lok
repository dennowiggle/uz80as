0001   0000             ; ===========================================================================
0002   0000             ; uz80as, an assembler for the Zilog Z80 and several other microprocessors.
0003   0000             ;
0004   0000             ; Motorola 6801.
0005   0000             ; ===========================================================================
0006   0000             
0007   0000             
0008   0000             #define equ .equ
0009   0000             #define end .end
0010   0000             
0011   0000             .MSFIRST
0012   0000             
0013   0000             n:	equ $77
0014   0000             nn:	equ $1234
0015   0000             
0016   0000             ; 0x
0017   0000             
0018   0000             	; 0
0019   0000 01          	NOP
0020   0001             	; 2
0021   0001             	; 3
0022   0001 04          	LSRD ; *
0023   0002 05          	ASLD ; *
0024   0003 05          	LSLD ; * = ASLD
0025   0004 06          	TAP
0026   0005 07          	TPA
0027   0006 08          	INX
0028   0007 09          	DEX
0029   0008 0A          	CLV
0030   0009 0B          	SEV
0031   000A 0C          	CLC
0032   000B 0D          	SEC
0033   000C 0E          	CLI
0034   000D 0F          	SEI
0035   000E             	
0036   000E             ; 1x
0037   000E             
0038   000E 10          	SBA
0039   000F 11          	CBA
0040   0010             	; 2
0041   0010             	; 3
0042   0010             	; 4
0043   0010             	; 5
0044   0010 16          	TAB
0045   0011 17          	TBA
0046   0012             	; 8
0047   0012 19          	DAA
0048   0013             	; A
0049   0013 1B          	ABA
0050   0014             	; C
0051   0014             	; D
0052   0014             	; E
0053   0014             	; F
0054   0014             
0055   0014             ; 2x
0056   0014             
0057   0014 20 FE       	BRA *
0058   0016 21 FE       	BRN * ; *
0059   0018 22 FE       	BHI *
0060   001A 23 FE       	BLS *
0061   001C 24 FE       	BCC *
0062   001E 24 FE       	BHS * ; * = BCC
0063   0020 25 FE       	BCS *
0064   0022 25 FE       	BLO * ; * = BCS
0065   0024 26 FE       	BNE *
0066   0026 27 FE       	BEQ *
0067   0028 28 FE       	BVC *
0068   002A 29 FE       	BVS *
0069   002C 2A FE       	BPL *
0070   002E 2B FE       	BMI *
0071   0030 2C FE       	BGE *
0072   0032 2D FE       	BLT *
0073   0034 2E FE       	BGT *
0074   0036 2F FE       	BLE *
0075   0038             
0076   0038             ; 3x
0077   0038             
0078   0038 30          	TSX
0079   0039 31          	INS
0080   003A 32          	PULA
0081   003B 33          	PULB
0082   003C 34          	DES
0083   003D 35          	TXS
0084   003E 36          	PSHA
0085   003F 37          	PSHB
0086   0040 38          	PULX ; *
0087   0041 39          	RTS
0088   0042 3A          	ABX ; *
0089   0043 3B          	RTI
0090   0044 3C          	PSHX ; *
0091   0045 3D          	MUL ; *
0092   0046 3E          	WAI
0093   0047 3F          	SWI
0094   0048             
0095   0048             ; 4x
0096   0048             
0097   0048 40          	NEGA
0098   0049             	; 1
0099   0049             	; 2
0100   0049 43          	COMA
0101   004A 44          	LSRA
0102   004B             	; 5
0103   004B 46          	RORA
0104   004C 47          	ASRA
0105   004D 48          	ASLA
0106   004E 49          	ROLA
0107   004F 4A          	DECA
0108   0050             	; B
0109   0050 4C          	INCA
0110   0051 4D          	TSTA
0111   0052             	; E
0112   0052 4F          	CLRA
0113   0053             
0114   0053             ; 5x
0115   0053             
0116   0053 50          	NEGB
0117   0054             	; 1
0118   0054             	; 2
0119   0054 53          	COMB
0120   0055 54          	LSRB
0121   0056             	; 5
0122   0056 56          	RORB
0123   0057 57          	ASRB
0124   0058 58          	ASLB
0125   0059 59          	ROLB
0126   005A 5A          	DECB
0127   005B             	; B
0128   005B 5C          	INCB
0129   005C 5D          	TSTB
0130   005D             	; E
0131   005D 5F          	CLRB
0132   005E             
0133   005E             ; 6x
0134   005E             
0135   005E 60 77       	NEG n,X
0136   0060             	; 1
0137   0060             	; 2
0138   0060 63 77       	COM n,X
0139   0062 64 77       	LSR n,X
0140   0064             	; 5
0141   0064 66 77       	ROR n,X
0142   0066 67 77       	ASR n,X
0143   0068 68 77       	ASL n,X
0144   006A 68 77       	LSL n,X ; * = ASL
0145   006C 69 77       	ROL n,X
0146   006E 6A 77       	DEC n,X
0147   0070             	; B
0148   0070 6C 77       	INC n,X
0149   0072 6D 77       	TST n,X
0150   0074             	; E
0151   0074 6F 77       	CLR n,X
0152   0076             
0153   0076             ; 7x
0154   0076             
0155   0076 70 12 34    	NEG nn
0156   0079             	; 1
0157   0079             	; 2
0158   0079 73 12 34    	COM nn
0159   007C 74 12 34    	LSR nn
0160   007F             	; 5
0161   007F 76 12 34    	ROR nn
0162   0082 77 12 34    	ASR nn
0163   0085 78 12 34    	ASL nn
0164   0088 78 12 34    	LSL nn ; * = ASL
0165   008B 79 12 34    	ROL nn
0166   008E 7A 12 34    	DEC nn
0167   0091             	; B
0168   0091 7C 12 34    	INC nn
0169   0094 7D 12 34    	TST nn
0170   0097             	; E
0171   0097 7F 12 34    	CLR nn
0172   009A             
0173   009A             ; 8x
0174   009A             
0175   009A 80 77       	SUBA #n
0176   009C 81 77       	CMPA #n
0177   009E 82 77       	SBCA #n
0178   00A0 83 12 34    	SUBD #nn ; *
0179   00A3 84 77       	ANDA #n
0180   00A5 85 77       	BITA #n
0181   00A7 86 77       	LDAA #n
0182   00A9             	; 7
0183   00A9 88 77       	EORA #n
0184   00AB 89 77       	ADCA #n
0185   00AD 8A 77       	ORAA #n
0186   00AF 8B 77       	ADDA #n
0187   00B1 8C 12 34    	CPX #nn
0188   00B4 8D FE       	BSR *
0189   00B6 8E 12 34    	LDS #nn
0190   00B9             	; F
0191   00B9             
0192   00B9             ; 9x
0193   00B9             
0194   00B9 90 77       	SUBA n
0195   00BB 91 77       	CMPA n
0196   00BD 92 77       	SBCA n
0197   00BF 93 77       	SUBD n ; *
0198   00C1 94 77       	ANDA n
0199   00C3 95 77       	BITA n
0200   00C5 96 77       	LDAA n
0201   00C7 97 77       	STAA n
0202   00C9 98 77       	EORA n
0203   00CB 99 77       	ADCA n
0204   00CD 9A 77       	ORAA n
0205   00CF 9B 77       	ADDA n
0206   00D1 9C 77       	CPX n
0207   00D3 9D 77       	JSR n ; *
0208   00D5 9E 77       	LDS n
0209   00D7 9F 77       	STS n
0210   00D9             
0211   00D9             ; Ax
0212   00D9             
0213   00D9 A0 77       	SUBA n,X
0214   00DB A1 77       	CMPA n,X
0215   00DD A2 77       	SBCA n,X
0216   00DF A3 77       	SUBD n,X ; *
0217   00E1 A4 77       	ANDA n,X
0218   00E3 A5 77       	BITA n,X
0219   00E5 A6 77       	LDAA n,X
0220   00E7 A7 77       	STAA n,X
0221   00E9 A8 77       	EORA n,X
0222   00EB A9 77       	ADCA n,X
0223   00ED AA 77       	ORAA n,X
0224   00EF AB 77       	ADDA n,X
0225   00F1 AC 77       	CPX n,X
0226   00F3 AD 77       	JSR n,X
0227   00F5 AE 77       	LDS n,X
0228   00F7 AF 77       	STS n,X
0229   00F9             
0230   00F9             
0231   00F9             ; Bx
0232   00F9             
0233   00F9 B0 12 34    	SUBA nn
0234   00FC B1 12 34    	CMPA nn
0235   00FF B2 12 34    	SBCA nn
0236   0102 B3 12 34    	SUBD nn ; *
0237   0105 B4 12 34    	ANDA nn
0238   0108 B5 12 34    	BITA nn
0239   010B B6 12 34    	LDAA nn
0240   010E B7 12 34    	STAA nn
0241   0111 B8 12 34    	EORA nn
0242   0114 B9 12 34    	ADCA nn
0243   0117 BA 12 34    	ORAA nn
0244   011A BB 12 34    	ADDA nn
0245   011D BC 12 34    	CPX nn
0246   0120 BD 12 34    	JSR nn
0247   0123 BE 12 34    	LDS nn
0248   0126 BF 12 34    	STS nn
0249   0129             
0250   0129             ; Cx
0251   0129             
0252   0129 C0 77       	SUBB #n
0253   012B C1 77       	CMPB #n
0254   012D C2 77       	SBCB #n
0255   012F C3 12 34    	ADDD #nn ; *
0256   0132 C4 77       	ANDB #n
0257   0134 C5 77       	BITB #n
0258   0136 C6 77       	LDAB #n
0259   0138             	; 7
0260   0138 C8 77       	EORB #n
0261   013A C9 77       	ADCB #n
0262   013C CA 77       	ORAB #n
0263   013E CB 77       	ADDB #n
0264   0140 CC 12 34    	LDD #nn ; *
0265   0143             	; D
0266   0143 CE 12 34    	LDX #nn
0267   0146             	; F
0268   0146             
0269   0146             ; Dx
0270   0146             
0271   0146 D0 77       	SUBB n
0272   0148 D1 77       	CMPB n
0273   014A D2 77       	SBCB n
0274   014C D3 77       	ADDD n ; *
0275   014E D4 77       	ANDB n
0276   0150 D5 77       	BITB n
0277   0152 D6 77       	LDAB n
0278   0154 D7 77       	STAB n
0279   0156 D8 77       	EORB n
0280   0158 D9 77       	ADCB n
0281   015A DA 77       	ORAB n
0282   015C DB 77       	ADDB n
0283   015E DC 77       	LDD n ; *
0284   0160 DD 77       	STD n ; *
0285   0162 DE 77       	LDX n
0286   0164 DF 77       	STX n
0287   0166             
0288   0166             ; Ex
0289   0166             
0290   0166 E0 77       	SUBB n,X
0291   0168 E1 77       	CMPB n,X
0292   016A E2 77       	SBCB n,X
0293   016C E3 77       	ADDD n,X ; *
0294   016E E4 77       	ANDB n,X
0295   0170 E5 77       	BITB n,X
0296   0172 E6 77       	LDAB n,X
0297   0174 E7 77       	STAB n,X
0298   0176 E8 77       	EORB n,X
0299   0178 E9 77       	ADCB n,X
0300   017A EA 77       	ORAB n,X
0301   017C EB 77       	ADDB n,X
0302   017E DC 77       	LDD n ; *
0303   0180 DD 77       	STD n ; *
0304   0182 EE 77       	LDX n,X
0305   0184 EF 77       	STX n,X
0306   0186             
0307   0186             
0308   0186             ; Fx
0309   0186             
0310   0186 F0 12 34    	SUBB nn
0311   0189 F1 12 34    	CMPB nn
0312   018C F2 12 34    	SBCB nn
0313   018F F3 12 34    	ADDD nn ; *
0314   0192 F4 12 34    	ANDB nn
0315   0195 F5 12 34    	BITB nn
0316   0198 F6 12 34    	LDAB nn
0317   019B F7 12 34    	STAB nn
0318   019E F8 12 34    	EORB nn
0319   01A1 F9 12 34    	ADCB nn
0320   01A4 FA 12 34    	ORAB nn
0321   01A7 FB 12 34    	ADDB nn
0322   01AA FC 12 34    	LDD nn ; *
0323   01AD FD 12 34    	STD nn ; *
0324   01B0 FE 12 34    	LDX nn
0325   01B3 FF 12 34    	STX nn
0326   01B6             
0327   01B6             #ifdef UZ80AS
0328   01B6             
0329   01B6             ; Bx >
0330   01B6             
0331   01B6 B0 00 77    	SUBA >n
0332   01B9 B1 00 77    	CMPA >n
0333   01BC B2 00 77    	SBCA >n
0334   01BF B3 00 77    	SUBD >n ; *
0335   01C2 B4 00 77    	ANDA >n
0336   01C5 B5 00 77    	BITA >n
0337   01C8 B6 00 77    	LDAA >n
0338   01CB B7 00 77    	STAA >n
0339   01CE B8 00 77    	EORA >n
0340   01D1 B9 00 77    	ADCA >n
0341   01D4 BA 00 77    	ORAA >n
0342   01D7 BB 00 77    	ADDA >n
0343   01DA BC 00 77    	CPX >n
0344   01DD BD 00 77    	JSR >n ; *
0345   01E0 BE 00 77    	LDS >n
0346   01E3 BF 00 77    	STS >n
0347   01E6             
0348   01E6             ; Fx >
0349   01E6             
0350   01E6 F0 00 77    	SUBB >n
0351   01E9 F1 00 77    	CMPB >n
0352   01EC F2 00 77    	SBCB >n
0353   01EF F3 00 77    	ADDD >n ; *
0354   01F2 F4 00 77    	ANDB >n
0355   01F5 F5 00 77    	BITB >n
0356   01F8 F6 00 77    	LDAB >n
0357   01FB F7 00 77    	STAB >n
0358   01FE F8 00 77    	EORB >n
0359   0201 F9 00 77    	ADCB >n
0360   0204 FA 00 77    	ORAB >n
0361   0207 FB 00 77    	ADDB >n
0362   020A FC 00 77    	LDD >n ; *
0363   020D FD 00 77    	STD >n ; *
0364   0210 FE 00 77    	LDX >n
0365   0213 FF 00 77    	STX >n
0366   0216             
0367   0216             #endif
0368   0216             
0369   0216 12 34       	.DW $1234
0370   0218             
0371   0218             	end
